<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <parent>
    <groupId>org.sonatype.nexusbook</groupId>
    <artifactId>nxbook-parent-de</artifactId>
    <version>0.9</version>
  </parent>
  <artifactId>nxbook-site-de</artifactId>
  <packaging>jar</packaging>
  <name>Nexus Book Site (German)</name>
  <description>A book about Sonatype Nexus</description>
  <build>
    <plugins>
    <plugin>
      <artifactId>maven-dependency-plugin</artifactId>
      <executions>
	<execution>
	  <id>unpack-html</id>
	  <phase>site</phase>
	  <goals>
	    <goal>unpack</goal>
	  </goals>
	  <configuration>
	    <artifactItems>
	      <artifactItem>
		<groupId>${project.groupId}</groupId>
		<artifactId>nxbook-html-de</artifactId>
		<version>${project.version}</version>
	      </artifactItem>
	    </artifactItems>
	    <outputDirectory>${basedir}/target/site/reference_de</outputDirectory>
	  </configuration>
	</execution>
	<execution>
	  <id>copy-examples</id>
	  <phase>site</phase>
	  <goals>
	    <goal>copy</goal>
	  </goals>
	  <configuration>
	    <artifactItems>
	      <artifactItem>
		<groupId>${project.groupId}</groupId>
		<artifactId>nxbook-examples-de</artifactId>
		<version>${project.version}</version>
		<classifier>src</classifier>
		<type>zip</type>
	      </artifactItem>
	    </artifactItems>
	    <outputDirectory>${basedir}/target/site/</outputDirectory>
	  </configuration>
	</execution>
	<execution>
	  <id>copy-pdf</id>
	  <phase>site</phase>
	  <goals>
	    <goal>copy</goal>
	  </goals>
	  <configuration>
	    <artifactItems>
	      <artifactItem>
		<groupId>${project.groupId}</groupId>
		<artifactId>nxbook-pdf-de</artifactId>
		<version>${project.version}</version>
		<type>pdf</type>
	      </artifactItem>
	    </artifactItems>
	    <outputDirectory>${basedir}/target/site/pdf</outputDirectory>
	    <stripVersion>true</stripVersion>
	  </configuration>
	</execution>
      </executions>
    </plugin>
    <plugin>
      <groupId>org.sonatype.book</groupId>
      <artifactId>book-sitemesh-plugin</artifactId>
      <version>1.0</version>
      <executions>
        <execution>
          <id>mesh-velocity</id>
          <phase>site</phase>
          <goals>
            <goal>mesh-velocity</goal>
          </goals>
          <configuration>
            <velocityTemplate>src/main/resources/vm/site.vm</velocityTemplate>
          </configuration>
        </execution>
      </executions>
    </plugin>
  </plugins>
</build>
<reporting>
  <plugins>
    <plugin>
      <groupId>org.apache.maven.plugins</groupId>
      <artifactId>maven-project-info-reports-plugin</artifactId>
      <version>2.0.1</version>
      <reportSets>
        <reportSet>
          <reports>
          </reports>
        </reportSet>
      </reportSets>
    </plugin>
  </plugins>
</reporting>
<profiles>
  <profile>
    <id>publish</id>
    <distributionManagement>
      <site>
        <id>sonatype-site</id>
        <name>Sonatype Book Examples</name>
        <url>scp://deployer@172.16.0.1/var/www/domains/sonatype.com/books/htdocs/nexus-book/</url>
      </site>
    </distributionManagement>
    <properties>
      <maven.book.baseurl>http://books.sonatype.com/maven-book</maven.book.baseurl>
    </properties>
  </profile>
  <profile>
    <id>publish-external</id>
    <distributionManagement>
      <site>
        <id>sonatype-site</id>
        <name>Sonatype Book Examples</name>
        <url>scp://deployer@svn.sonatype.com/var/www/domains/sonatype.com/books/htdocs/nexus-book/</url>
      </site>
    </distributionManagement>
    <properties>
      <maven.book.baseurl>http://books.sonatype.com/maven-book</maven.book.baseurl>
    </properties>
  </profile>
  <profile>
    <id>stage</id>
    <distributionManagement>
      <site>
        <id>sonatype-site</id>
        <name>Sonatype Book Examples</name>
        <url>scp://deployer@172.16.0.1/var/www/domains/sonatype.com/books/htdocs/nexus-book-stage/</url>
      </site>
    </distributionManagement>
  </profile>
  <profile>
    <id>stage-external</id>
    <distributionManagement>
      <site>
        <id>sonatype-site</id>
        <name>Sonatype Book Examples</name>
        <url>scp://deployer@svn.sonatype.com/var/www/domains/sonatype.com/books/htdocs/nexus-book-stage/</url>
      </site>
    </distributionManagement>
  </profile>
</profiles>
<dependencies>
</dependencies>

</project>
